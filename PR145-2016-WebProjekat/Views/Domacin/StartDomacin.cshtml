
@{
    ViewBag.Title = "StartDomacin";
}


<head>
    <link href="@Url.Content("~/Content/Domacin.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/DropdownMenu.css")" rel="stylesheet" type="text/css" />
</head>


<body>

    <a href="~/Domacin/Nazadd">Start Page</a>

    <div class="menu">
        <div class="dropdown">
            <button class="dropbtn">Basic</button>
            <div class="dropdown-content">
                @{
                    foreach (var item in ViewBag.basic)
                    {
                        <a href="~/Domacin/Filter?naziv=@item.Naziv">@item.Naziv</a>
                    }

                }
            </div>
        </div>

        <div class="dropdown">
            <button class="dropbtn">Family</button>
            <div class="dropdown-content">
                @{
                    foreach (var item in ViewBag.family)
                    {
                        <a href="~/Domacin/Filter?naziv=@item.Naziv">@item.Naziv</a>
                    }

                }
            </div>
        </div>

        <div class="dropdown">
            <button class="dropbtn">Dining</button>
            <div class="dropdown-content">
                @{
                    foreach (var item in ViewBag.dining)
                    {
                        <a href="~/Domacin/Filter?naziv=@item.Naziv">@item.Naziv</a>
                    }

                }
            </div>
        </div>

        <div class="dropdown">
            <button class="dropbtn">Type</button>
            <div class="dropdown-content">
                <a href="~/Domacin/Filter?naziv2=CeoApartman">Apartman</a>
                <a href="~/Domacin/Filter?naziv2=Soba">Room</a>
            </div>
        </div>

        <div class="dropdown">
            <button class="dropbtn">Status</button>
            <div class="dropdown-content">
                <a href="~/Domacin/Filter?naziv3=Aktivno">Active</a>
                <a href="~/Domacin/Filter?naziv3=Neaktivano">Non Active</a>
            </div>
        </div>

    </div>



    <div id="user">
        <p>Information about householder:</p>

        @if (ViewBag.info3 != "sakrij")
        {
            <form action="~/Domacin/ChangeInfo" method="post">
                <table>

                    @{ foreach (var item in ViewBag.domacini)
                        {
                            if (item.KorisnickoIme == ViewBag.taj3)
                            {
                                ViewBag.sadasnji = item;
                                <tr>
                                    <td>Username:</td>
                                    <td>@item.KorisnickoIme</td>
                                </tr>
                                <tr>
                                    <td>Password:</td>
                                    <td>@item.Lozinka</td>
                                </tr>
                                <tr>
                                    <td>Name:</td>
                                    <td>@item.Ime</td>
                                </tr>
                                <tr>
                                    <td>Surname</td>
                                    <td>@item.Prezime</td>
                                </tr>
                                <tr>
                                    <td>Gener:</td>
                                    <td>@item.Pol</td>
                                </tr>
                                <tr>
                                    <td>Type:</td>
                                    <td>@item.Uloga</td>
                                </tr>
                                <tr colspam="2">
                                    <td>
                                        <input type="submit" value="Change information">
                                        <input type="hidden" value="@item.KorisnickoIme" name="id" />
                                        <input type="hidden" value="@item.Id" name="Id_" />
                                    </td>
                                </tr>
                            }
                        }}

                </table>
            </form>
        }
        else
        {
            <form action="~/Domacin/SaveChanges" method="post">
                <table>
                    <tr>
                        <td>Username:</td>
                        <td><input type="text" name="KorisnickoIme" value="@ViewBag.trenutni.KorisnickoIme" required></td>
                    </tr>
                    <tr>
                        <td>Password:</td>
                        <td><input type="password" name="Lozinka" value="@ViewBag.trenutni.Lozinka" required></td>
                    </tr>
                    <tr>
                        <td>Name:</td>
                        <td><input type="text" name="Ime" value="@ViewBag.trenutni.Ime" required></td>
                    </tr>
                    <tr>
                        <td>Surname</td>
                        <td><input type="text" name="Prezime" value="@ViewBag.trenutni.Prezime" required></td>
                    </tr>
                    <tr>
                        <td>Gener:</td>
                        <td>
                            <select name="Pol">
                                <option value="Zensko">Woman</option>
                                <option value="Musko">Man</option>
                            </select>
                        </td>
                    </tr>
                    <tr colspam="2">
                        <td><input type="submit" value="Save Changes"></td>
                    </tr>
                </table>
            </form>
        }
    </div>



    <div>
        

        <form action="~/Domacin/DodajApartman">
            <input type="submit" value="Add New Apartman" />
        </form>
    </div>


    @{
        if (ViewBag.sakrij10 == "svi")
        {



            <div class="ap" style="top:200px">
                <div>

                    @{ foreach (var item in ViewBag.Aktivni2)
                        {
                            if (item.Obirsan == false)
                            {
                                <form action="~/Domacin/IzmeniApartman" method="post">
                                    <table border="1">
                                        <tr>
                                            <td>Aktivni Apartmani</td>
                                        </tr>
                                        <tr>
                                            <td>Tip:</td>
                                            <td>@item.Tip</td>
                                        </tr>
                                        <tr>
                                            <td>Broj Soba:</td>
                                            <td>@item.BrojSoba</td>
                                        </tr>
                                        <tr>
                                            <td>Broj Gostiju:</td>
                                            <td>@item.BrojGostiju</td>
                                        </tr>
                                        <tr>
                                            <td>GeografskaSirina:</td>
                                            <td>@item.Lokacija.GeografskaSirina</td>
                                        </tr>
                                        <tr>
                                            <td>GeografskaDuzina:</td>
                                            <td>@item.Lokacija.GeografskaDuzina</td>
                                        </tr>
                                        <tr>
                                            <td>Ulica:</td>
                                            <td>@item.Lokacija.Adresa.Ulica</td>
                                        </tr>
                                        <tr>
                                            <td>Broj:</td>
                                            <td>@item.Lokacija.Adresa.Broj</td>
                                        </tr>
                                        <tr>
                                            <td>Naseljeno Mesto:</td>
                                            <td>@item.Lokacija.Adresa.NaseljenoMesto</td>
                                        </tr>
                                        <tr>
                                            <td>Postanski Broj:</td>
                                            <td>@item.Lokacija.Adresa.PostanskiBroj</td>
                                        </tr>
                                        <tr>
                                            <td>Datumi Dostupnost:</td>

                                            @{foreach (var itemf in item.DatumiDostupnost)
                                                {
                                                    <td>@itemf</td>
                                                }
                                            }


                                        </tr>
                                        <tr>
                                            <td>Cena Po Noci:</td>
                                            <td>@item.CenaPoNoci</td>
                                        </tr>
                                        <tr>
                                            <td>Vreme Prijave:</td>
                                            <td>@item.VremePrijave</td>
                                        </tr>
                                        <tr>
                                            <td>Vreme Odjave:</td>
                                            <td>@item.VremeOdjave</td>
                                        </tr>
                                        <tr>
                                            <td>Status Apartmana:</td>
                                            <td>@item.StatusApartmana</td>
                                        </tr>
                                        <tr>
                                            <td>Amenities:</td>

                                            @{foreach (var itemf in item.Amenities)
                                                {
                                                    <td>@itemf.Naziv</td>
                                                }
                                            }

                                        </tr>
                                        @if (item.Slike != null)
                                        {
                                            <tr>
                                                <td>Slika:</td>
                                                <td><img src="@item.Slike[0]" width="100" /></td>
                                            </tr>
                                        }

                                        @if (item.komentari != null)
                                        {
                                            foreach (var item2 in item.komentari)
                                            {
                                                <tr>
                                                    <td>Komentar:</td>
                                                    <td>@item2.Tekst</td>
                                                </tr>
                                                <tr>
                                                    <td>Ocena:</td>
                                                    <td>@item2.Ocena</td>
                                                </tr>
                                            }
                                        }




                                        <tr>
                                            <td></td>
                                            <td>
                                                <input type="submit" value="Change this apartman" />
                                                <input type="hidden" value="@item.Id" name="IdIzmene" />

                                            </td>
                                        </tr>
                                    </table>
                                </form>

                                <form action="~/Domacin/Obrisi" method="post">
                                    <table>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <input type="submit" value="Delete this apartman" />
                                                <input type="hidden" value="@item.Id" name="IdBrisanja" />

                                            </td>
                                        </tr>

                                        <tr>
                                            <td bgcolor="cadetblue" style="line-height:40px;" colspan=2>&nbsp;</td>
                                        </tr>
                                    </table>
                                </form>

                                
                            }
                        }}

                </div>





                <div>
                    <table border="1">
                        <tr>
                            <td>Neaktivni Apartmani</td>
                        </tr>
                        @{ foreach (var item in ViewBag.Neaktivni2)
                            {
                                if (item.Obirsan == false)
                                {
                                <tr>
                                    <td>Tip:</td>
                                    <td>@item.Tip</td>
                                </tr>
                                <tr>
                                    <td>Broj Soba:</td>
                                    <td>@item.BrojSoba</td>
                                </tr>
                                <tr>
                                    <td>Broj Gostiju:</td>
                                    <td>@item.BrojGostiju</td>
                                </tr>
                                <tr>
                                    <td>GeografskaSirina:</td>
                                    <td>@item.Lokacija.GeografskaSirina</td>
                                </tr>
                                <tr>
                                    <td>GeografskaDuzina:</td>
                                    <td>@item.Lokacija.GeografskaDuzina</td>
                                </tr>
                                <tr>
                                    <td>Ulica:</td>
                                    <td>@item.Lokacija.Adresa.Ulica</td>
                                </tr>
                                <tr>
                                    <td>Broj:</td>
                                    <td>@item.Lokacija.Adresa.Broj</td>
                                </tr>
                                <tr>
                                    <td>Naseljeno Mesto:</td>
                                    <td>@item.Lokacija.Adresa.NaseljenoMesto</td>
                                </tr>
                                <tr>
                                    <td>Postanski Broj:</td>
                                    <td>@item.Lokacija.Adresa.PostanskiBroj</td>
                                </tr>
                                <tr>
                                    <td>Datumi Dostupnost:</td>

                                    @{foreach (var itemf in item.DatumiDostupnost)
                                        {
                                            <td>@itemf</td>
                                        }
                                    }


                                </tr>
                                <tr>
                                    <td>Cena Po Noci:</td>
                                    <td>@item.CenaPoNoci</td>
                                </tr>
                                <tr>
                                    <td>Vreme Prijave:</td>
                                    <td>@item.VremePrijave</td>
                                </tr>
                                <tr>
                                    <td>Vreme Odjave:</td>
                                    <td>@item.VremeOdjave</td>
                                </tr>
                                <tr>
                                    <td>Status Apartmana:</td>
                                    <td>@item.StatusApartmana</td>
                                </tr>
                                <tr>
                                    <td>Amenities:</td>

                                    @{foreach (var itemf in item.Amenities)
                                        {
                                            <td>@itemf.Naziv</td>
                                        }
                                    }

                                </tr>
                                        if (item.Slike != null)
                                        {
                                            foreach (var item1 in item.Slike)
                                            {
                                        <tr>
                                            <td>Slika:</td>
                                            <td><img src="@item1" width="100" /></td>
                                        </tr>
                                            }

                                        }

                                        if (item.komentari != null)
                                        {
                                            foreach (var item2 in item.komentari)
                                            {
                                        <tr>
                                            <td>Komentar:</td>
                                            <td>@item2.Tekst</td>
                                        </tr>
                                        <tr>
                                            <td>Ocena:</td>
                                            <td>@item2.Ocena</td>
                                        </tr>
                                            }
                                        }

                                <tr>
                                    <td bgcolor="cadetblue" style="line-height:40px;" colspan=2>&nbsp;</td>
                                </tr>

                                                }
                                            }}
                    </table>
                </div>
            </div>

        }
        else if (ViewBag.sakrij10 == "filtrirani")
        {
            <div class="ap" style="top:200px">
                <table border="1">
                    <tr>
                        <td>Filtrirani Apartmani</td>
                    </tr>
                    @{ foreach (var item in ViewBag.Aktivni10)
                        {
                            if (item.Obirsan == false)
                            {
                            <tr>
                                <td>Tip:</td>
                                <td>@item.Tip</td>
                            </tr>
                            <tr>
                                <td>Broj Soba:</td>
                                <td>@item.BrojSoba</td>
                            </tr>
                            <tr>
                                <td>Broj Gostiju:</td>
                                <td>@item.BrojGostiju</td>
                            </tr>
                            <tr>
                                <td>GeografskaSirina:</td>
                                <td>@item.Lokacija.GeografskaSirina</td>
                            </tr>
                            <tr>
                                <td>GeografskaDuzina:</td>
                                <td>@item.Lokacija.GeografskaDuzina</td>
                            </tr>
                            <tr>
                                <td>Ulica:</td>
                                <td>@item.Lokacija.Adresa.Ulica</td>
                            </tr>
                            <tr>
                                <td>Broj:</td>
                                <td>@item.Lokacija.Adresa.Broj</td>
                            </tr>
                            <tr>
                                <td>Naseljeno Mesto:</td>
                                <td>@item.Lokacija.Adresa.NaseljenoMesto</td>
                            </tr>
                            <tr>
                                <td>Postanski Broj:</td>
                                <td>@item.Lokacija.Adresa.PostanskiBroj</td>
                            </tr>
                            <tr>
                                <td>Datumi Dostupnost:</td>

                                @{foreach (var itemf in item.DatumiDostupnost)
                                    {
                                        <td>@itemf</td>
                                    }
                                }


                            </tr>
                            <tr>
                                <td>Cena Po Noci:</td>
                                <td>@item.CenaPoNoci</td>
                            </tr>
                            <tr>
                                <td>Vreme Prijave:</td>
                                <td>@item.VremePrijave</td>
                            </tr>
                            <tr>
                                <td>Vreme Odjave:</td>
                                <td>@item.VremeOdjave</td>
                            </tr>
                            <tr>
                                <td>Status Apartmana:</td>
                                <td>@item.StatusApartmana</td>
                            </tr>
                            <tr>
                                <td>Amenities:</td>

                                @{foreach (var itemf in item.Amenities)
                                    {
                                        <td>@itemf.Naziv</td>
                                    }
                                }

                            </tr>
                                    if (item.Slike != null)
                                    {
                                        foreach (var item1 in item.Slike)
                                        {
                                    <tr>
                                        <td>Slika:</td>
                                        <td><img src="@item1" width="100" /></td>
                                    </tr>
                                        }

                                    }

                                    if (item.komentari != null)
                                    {
                                        foreach (var item2 in item.komentari)
                                        {
                                    <tr>
                                        <td>Komentar:</td>
                                        <td>@item2.Tekst</td>
                                    </tr>
                                    <tr>
                                        <td>Ocena:</td>
                                        <td>@item2.Ocena</td>
                                    </tr>
                                        }
                                    }

                            <tr>
                                <td bgcolor="cadetblue" style="line-height:40px;" colspan=2>&nbsp;</td>
                            </tr>
                                            }

                                        }}
                </table>
            </div>
        }
        else if (ViewBag.sakrij10 == "pretraga")
        {
            <div class="ap" style="top:200px">
                <table border="1">
                    <tr>
                        <td>Filtrirani Apartmani</td>
                    </tr>
                    @{ foreach (var item in ViewBag.Aktivni10)
                        {
                            if (item.Obirsan == false)
                            {
                            <tr>
                                <td>Tip:</td>
                                <td>@item.Tip</td>
                            </tr>
                            <tr>
                                <td>Broj Soba:</td>
                                <td>@item.BrojSoba</td>
                            </tr>
                            <tr>
                                <td>Broj Gostiju:</td>
                                <td>@item.BrojGostiju</td>
                            </tr>
                            <tr>
                                <td>GeografskaSirina:</td>
                                <td>@item.Lokacija.GeografskaSirina</td>
                            </tr>
                            <tr>
                                <td>GeografskaDuzina:</td>
                                <td>@item.Lokacija.GeografskaDuzina</td>
                            </tr>
                            <tr>
                                <td>Ulica:</td>
                                <td>@item.Lokacija.Adresa.Ulica</td>
                            </tr>
                            <tr>
                                <td>Broj:</td>
                                <td>@item.Lokacija.Adresa.Broj</td>
                            </tr>
                            <tr>
                                <td>Naseljeno Mesto:</td>
                                <td>@item.Lokacija.Adresa.NaseljenoMesto</td>
                            </tr>
                            <tr>
                                <td>Postanski Broj:</td>
                                <td>@item.Lokacija.Adresa.PostanskiBroj</td>
                            </tr>
                            <tr>
                                <td>Datumi Dostupnost:</td>

                                @{foreach (var itemf in item.DatumiDostupnost)
                                    {
                                        <td>@itemf</td>
                                    }
                                }


                            </tr>
                            <tr>
                                <td>Cena Po Noci:</td>
                                <td>@item.CenaPoNoci</td>
                            </tr>
                            <tr>
                                <td>Vreme Prijave:</td>
                                <td>@item.VremePrijave</td>
                            </tr>
                            <tr>
                                <td>Vreme Odjave:</td>
                                <td>@item.VremeOdjave</td>
                            </tr>
                            <tr>
                                <td>Status Apartmana:</td>
                                <td>@item.StatusApartmana</td>
                            </tr>
                            <tr>
                                <td>Amenities:</td>

                                @{foreach (var itemf in item.Amenities)
                                    {
                                        <td>@itemf.Naziv</td>
                                    }
                                }

                            </tr>
                                    if (item.Slike != null)
                                    {
                                        foreach (var item1 in item.Slike)
                                        {
                                    <tr>
                                        <td>Slika:</td>
                                        <td><img src="@item1" width="100" /></td>
                                    </tr>
                                        }

                                    }

                                    if (item.komentari != null)
                                    {
                                        foreach (var item2 in item.komentari)
                                        {
                                    <tr>
                                        <td>Komentar:</td>
                                        <td>@item2.Tekst</td>
                                    </tr>
                                    <tr>
                                        <td>Ocena:</td>
                                        <td>@item2.Ocena</td>
                                    </tr>
                                        }
                                    }

                            <tr>
                                <td bgcolor="cadetblue" style="line-height:40px;" colspan=2>&nbsp;</td>
                            </tr>


                                            }
                                        }}
                </table>
            </div>
        }
        else if (ViewBag.sakrij10 == "sortiranje")
        {
            <div class="ap" style="top:200px">
                <table border="1">
                    <tr>
                        <td>Filtrirani Apartmani</td>
                    </tr>
                    @{ foreach (var item in ViewBag.Aktivni10)
                        {
                            if (item.Obirsan == false)
                            {
                            <tr>
                                <td>Tip:</td>
                                <td>@item.Tip</td>
                            </tr>
                            <tr>
                                <td>Broj Soba:</td>
                                <td>@item.BrojSoba</td>
                            </tr>
                            <tr>
                                <td>Broj Gostiju:</td>
                                <td>@item.BrojGostiju</td>
                            </tr>
                            <tr>
                                <td>GeografskaSirina:</td>
                                <td>@item.Lokacija.GeografskaSirina</td>
                            </tr>
                            <tr>
                                <td>GeografskaDuzina:</td>
                                <td>@item.Lokacija.GeografskaDuzina</td>
                            </tr>
                            <tr>
                                <td>Ulica:</td>
                                <td>@item.Lokacija.Adresa.Ulica</td>
                            </tr>
                            <tr>
                                <td>Broj:</td>
                                <td>@item.Lokacija.Adresa.Broj</td>
                            </tr>
                            <tr>
                                <td>Naseljeno Mesto:</td>
                                <td>@item.Lokacija.Adresa.NaseljenoMesto</td>
                            </tr>
                            <tr>
                                <td>Postanski Broj:</td>
                                <td>@item.Lokacija.Adresa.PostanskiBroj</td>
                            </tr>
                            <tr>
                                <td>Datumi Dostupnost:</td>

                                @{foreach (var itemf in item.DatumiDostupnost)
                                    {
                                        <td>@itemf</td>
                                    }
                                }


                            </tr>
                            <tr>
                                <td>Cena Po Noci:</td>
                                <td>@item.CenaPoNoci</td>
                            </tr>
                            <tr>
                                <td>Vreme Prijave:</td>
                                <td>@item.VremePrijave</td>
                            </tr>
                            <tr>
                                <td>Vreme Odjave:</td>
                                <td>@item.VremeOdjave</td>
                            </tr>
                            <tr>
                                <td>Status Apartmana:</td>
                                <td>@item.StatusApartmana</td>
                            </tr>
                            <tr>
                                <td>Amenities:</td>

                                @{foreach (var itemf in item.Amenities)
                                    {
                                        <td>@itemf.Naziv</td>
                                    }
                                }

                            </tr>
                                    if (item.Slike != null)
                                    {
                                        foreach (var item1 in item.Slike)
                                        {
                                    <tr>
                                        <td>Slika:</td>
                                        <td><img src="@item1" width="100" /></td>
                                    </tr>
                                        }

                                    }

                                    if (item.komentari != null)
                                    {
                                        foreach (var item2 in item.komentari)
                                        {
                                    <tr>
                                        <td>Komentar:</td>
                                        <td>@item2.Tekst</td>
                                    </tr>
                                    <tr>
                                        <td>Ocena:</td>
                                        <td>@item2.Ocena</td>
                                    </tr>
                                        }
                                    }

                            <tr>
                                <td bgcolor="cadetblue" style="line-height:40px;" colspan=2>&nbsp;</td>
                            </tr>


                                            }
                                        }}
                </table>
            </div>
        }
    }




    <div class="pretraga" style="top:200px">
        <form action="~/Domacin/Pretraga" method="post">
            <table>
                <tr>
                    <td>Search:</td>
                </tr>
                <tr>
                    <td>Location:</td>
                    <td><input type="text" name="Lokacija" style="width:198px"></td>
                </tr>
                <tr>
                    <td>Price:</td>
                    <td><input type="number" name="OdCena" placeholder="Start price" style="width:100px"> <input type="number" name="DoCena" placeholder="End price" style="width:95px"></td>
                </tr>
                <tr>
                    <td>Num of room:</td>
                    <td><input type="number" name="OdSoba" placeholder="Start room" style="width:100px"> <input type="number" name="DoSoba" placeholder="End room" style="width:95px"></td>
                </tr>
                <tr>
                    <td>Num of people:</td>
                    <td><input type="number" name="BrojOsoba" style="width:198px"></td>
                </tr>
                <tr>
                    <td><input type="submit" value="Search"></td>
                </tr>
            </table>
        </form>

    </div>


    <div style="position:absolute;margin-left:800px;top:450px">
        <form action="~/Domacin/Sortiranje" method="post">
            <table>
                <tr>
                    <td>Sort:</td>
                </tr>
                <tr>
                    <td><input type="radio" name="sort" value="dole">Droping value</td>
                </tr>
                <tr>
                    <td><input type="radio" name="sort" value="gore">Rasing value</td>
                </tr>
                <tr>
                    <td><input type="submit" value="Sort"></td>
                </tr>
            </table>
        </form>
    </div>
</body>